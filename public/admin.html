<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="College Management System - Admin Dashboard">
    <title>Admin Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="admin.css">
</head>

<body>


    <!-- Login Overlay -->
    <div id="admin-login-overlay"
        style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #f4f7fe; z-index: 9999; display: flex; align-items: center; justify-content: center;">
        <div class="login-box"
            style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); width: 100%; max-width: 400px;">
            <div style="text-align: center; margin-bottom: 2rem;">
                <img src="./assets/images/logo.png" alt="Logo" style="width: 60px; height: 60px; margin-bottom: 1rem;">
                <h2 style="color: #2b3674; margin: 0;">Admin Login</h2>
                <p style="color: #a3aed0; margin: 5px 0 0;">Enter your credentials to access</p>
            </div>

            <form id="admin-login-form">
                <div style="margin-bottom: 1rem;">
                    <label style="display: block; color: #2b3674; margin-bottom: 0.5rem; font-weight: 500;">Admin
                        ID</label>
                    <input type="text" id="admin-id" placeholder="admin"
                        style="width: 100%; padding: 0.8rem; border: 1px solid #e0e5f2; border-radius: 8px; outline: none; transition: 0.3s;"
                        required>
                </div>
                <div style="margin-bottom: 1.5rem;">
                    <label
                        style="display: block; color: #2b3674; margin-bottom: 0.5rem; font-weight: 500;">Password</label>
                    <input type="password" id="admin-pass" placeholder="123"
                        style="width: 100%; padding: 0.8rem; border: 1px solid #e0e5f2; border-radius: 8px; outline: none; transition: 0.3s;"
                        required>
                </div>
                <button type="submit"
                    style="width: 100%; padding: 0.9rem; background: #4318FF; color: white; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: 0.3s;">Sign
                    In</button>
                <p id="login-error"
                    style="color: #dc2626; font-size: 0.875rem; margin-top: 1rem; text-align: center; display: none;">
                </p>
            </form>
        </div>
    </div>

    <!-- Main Dashboard Content (Hidden by default until logged in) -->
    <div id="dashboard-container" style="display: none; width: 100%; min-height: 100vh;">
        <aside class="sidebar" id="sidebar">

            <div class="sidebar-brand">
                <img src="./assets/images/logo.png" alt="College Logo" class="college-logo"
                    onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2260%22 height=%2260%22 viewBox=%220 0 60 60%22%3E%3Crect width=%2260%22 height=%2260%22 fill=%22%234a6cf7%22 rx=%2212%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 fill=%22white%22 font-size=%2224%22 font-weight=%22bold%22%3EGJ%3C/text%3E%3C/svg%3E'">
                <div class="brand-info">
                    <h1 class="college-name">ST. XAVIER'S</h1>
                    <p class="admin-label">Admin Panel</p>
                </div>
            </div>


            <nav class="sidebar-nav">
                <ul>
                    <li class="nav-item active" data-page="dashboard">
                        <i class="fas fa-home"></i>
                        <span>Dashboard</span>
                    </li>
                    <li class="nav-item" data-page="students">
                        <i class="fas fa-user-graduate"></i>
                        <span>Manage Students</span>
                    </li>
                    <li class="nav-item" data-page="faculty">
                        <i class="fas fa-chalkboard-teacher"></i>
                        <span>Manage Faculty</span>
                    </li>
                    <li class="nav-item" data-page="departments">
                        <i class="fas fa-building"></i>
                        <span>Departments / Courses</span>
                    </li>
                    <li class="nav-item" data-page="early-leave">
                        <i class="fas fa-door-open"></i>
                        <span>Early Leave</span>
                    </li>
                    <li class="nav-item" data-page="settings">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </li>
                    <li class="nav-item logout" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Logout</span>
                    </li>
                </ul>
            </nav>


        </aside>


        <main class="main-content">

            <div class="top-bar">
                <h2 class="page-title" id="pageTitle">Dashboard</h2>
                <div class="admin-profile">
                    <div class="notification-wrapper">
                        <i class="fas fa-bell notification-icon" id="notificationBell"></i>
                        <span class="notification-badge" id="notificationBadge">3</span>


                        <div class="notification-dropdown" id="notificationDropdown">
                            <div class="notification-header">
                                <h4>Notifications</h4>
                                <span class="mark-all-read">Mark all as read</span>
                            </div>
                            <div class="notification-list">
                                <div class="notification-item unread">
                                    <div class="notification-icon-wrapper blue">
                                        <i class="fas fa-user-plus"></i>
                                    </div>
                                    <div class="notification-content">
                                        <p class="notification-text"><strong>New Student Registered</strong></p>
                                        <p class="notification-desc">Rahul Sharma joined BCA Department</p>
                                        <span class="notification-time">5 minutes ago</span>
                                    </div>
                                </div>

                                <div class="notification-item unread">
                                    <div class="notification-icon-wrapper green">
                                        <i class="fas fa-check-circle"></i>
                                    </div>
                                    <div class="notification-content">
                                        <p class="notification-text"><strong>Leave Request Approved</strong></p>
                                        <p class="notification-desc">Priya Singh's leave request approved</p>
                                        <span class="notification-time">1 hour ago</span>
                                    </div>
                                </div>

                                <div class="notification-item unread">
                                    <div class="notification-icon-wrapper orange">
                                        <i class="fas fa-exclamation-triangle"></i>
                                    </div>
                                    <div class="notification-content">
                                        <p class="notification-text"><strong>Pending Action</strong></p>
                                        <p class="notification-desc">3 early leave requests need review</p>
                                        <span class="notification-time">2 hours ago</span>
                                    </div>
                                </div>

                                <div class="notification-item">
                                    <div class="notification-icon-wrapper purple">
                                        <i class="fas fa-calendar-alt"></i>
                                    </div>
                                    <div class="notification-content">
                                        <p class="notification-text"><strong>Event Reminder</strong></p>
                                        <p class="notification-desc">Faculty meeting scheduled for tomorrow</p>
                                        <span class="notification-time">5 hours ago</span>
                                    </div>
                                </div>

                                <div class="notification-item">
                                    <div class="notification-icon-wrapper blue">
                                        <i class="fas fa-file-alt"></i>
                                    </div>
                                    <div class="notification-content">
                                        <p class="notification-text"><strong>Report Generated</strong></p>
                                        <p class="notification-desc">Monthly attendance report is ready</p>
                                        <span class="notification-time">1 day ago</span>
                                    </div>
                                </div>
                            </div>
                            <div class="notification-footer">
                                <a href="#" class="view-all-link">View All Notifications</a>
                            </div>
                        </div>
                    </div>

                    <div class="admin-info">
                        <span class="admin-name">Administrator</span>
                        <span class="admin-role">Role: Administrator</span>
                    </div>
                    <div class="admin-avatar">A</div>
                </div>
            </div>


            <div class="content-area">
                <div id="app-view"></div>
            </div>
        </main>

        <script src="admin.js?v=final_fix"></script>
    </div> <!-- End of dashboard-container -->

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const loginOverlay = document.getElementById('admin-login-overlay');
            const dashboardContainer = document.getElementById('dashboard-container');
            const loginForm = document.getElementById('admin-login-form');
            const loginError = document.getElementById('login-error');

            // Check if already logged in
            if (sessionStorage.getItem('adminLoggedIn') === 'true') {
                loginOverlay.style.display = 'none';
                dashboardContainer.style.display = 'flex';
            }

            loginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const id = document.getElementById('admin-id').value;
                const pass = document.getElementById('admin-pass').value;

                if (id === 'admin' && pass === '123') {
                    sessionStorage.setItem('adminLoggedIn', 'true');
                    loginOverlay.style.display = 'none';
                    dashboardContainer.style.display = 'flex';
                    // Optional: Re-initialize dashboard scripts if needed
                } else {
                    loginError.textContent = 'Invalid credentials. Try admin / 123';
                    loginError.style.display = 'block';
                }
            });


        });
    </script>
</body>

</html>